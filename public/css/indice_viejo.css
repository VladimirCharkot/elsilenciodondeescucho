@import url('https://fonts.googleapis.com/css?family=IM+Fell+English+SC');

/* Counters */
.indice ol {
    counter-reset: subidx;
}

/* El siguiente bloque remueve los counters a la izquierda */
/*ol > li::marker {
    content: "";
}*/



/* Items */

.indice ul li {
  list-style: none;

}

.indice > nav > ul {
    display:flex;
    flex-direction: column;
    justify-content:flex-start;

    text-decoration:none;
    padding:0.3rem 0;
    order:0;
}

.indice > nav > ul > li > ul > p::before {  /* puntitos */
    content:"";
    display:block;
    border-bottom:1px dotted black;
    position:relative; top:-3px;
    flex:1 1 auto;
    margin:0 1rem;
    order:1;¡
}

.indice > nav > ul > li > ul > p::after { /* sub-counters */
    counter-increment:subidx;
    content:counter(subidx);
    flex:0 0 auto;
    order:2;
    /*transform: scale(1.2);*/
    text-decoration:underline;
}



/* Sub menu & items */

.sub-menu {
    counter-reset: subidx;
    font-size:1.6rem;
    font-weight:normal;
}

.sub-menu > li > a {
    text-indent:0ch; /*
                      Chrome indentS the "dots" elm, i.e. it counts pseudo-elm.
                      FF and Edge indents first non pseudo-elm.
                      Turn it off for consistency.
                      */
    padding:0.5rem 0 0.5rem 2ch;
    margin:0;
}



/* Menu */

.menu {
    width:48vw;
    min-width:20ch;
    display:flex;
    flex-flow:column nowrap;
    font:bold 2.4rem/1 'IM Fell English SC', serif;
    position:relative;
    /*transform:rotate(-30deg);*/
}

.menu::before {
    content:"—";
    align-self:center;
    /*transform:rotate(45deg);*/
    margin-bottom:1rem;
}

.menu::after {
    content:"—";
    align-self:center;
    /*transform:rotate(30deg);*/
    margin-top:1rem;
}



/* Efectos */

/* Este hace que se grisen todos los items */
.menu:hover > ol > .menu-item { opacity:0.3; }

/* Este hace que se desgrise item de turno y resalte en amarillo */
.menu-item:hover {
    transition:background-color 0.3s;
    /*background:rgba(255,255,100,0.15);*/
    background: #d7eac940;
    opacity:1 !important;
}

/* Este hace que el counter se desplace a la derecha */
/*.menu-item:hover a::after {
    text-decoration:none;
}

.menu-item:hover > a::before {
    transition:flex-grow 0.3s;
    width:0; flex-grow:0;
    transform-origin:center bottom;
}*/

/*
 Collapse
 */

.sub-menu > .menu-item {
    max-height:1ch;
    transform:scaleY(0.1);
    transform-origin:center top;
    transition:transform 0.2s, max-height 0.5s;
}

.sub-menu:hover .menu-item {
    max-height:10em;
    transform:scaleY(1);
}
